const { faker, createFakeObj } = require('./../utils')

async function purgeFieldwork () {
  await (new Parse.Schema('Notification')).purge()
  const fieldwordClasses = ['Briefing', 'Control', 'DepartureList', 'TaskList', 'TaskSubmission', 'ScoutSubmission', 'ControlSubmission', 'DisassemblySubmission']
  return Promise.all(fieldwordClasses.map(className => (new Parse.Schema(className)).purge())).then(consola.success)
}

const TEST_BRIEFINGS = [
  {
    name: 'Abfahrtsliste_Gesamt_Koop T03',
    date: '2023-04-10',
    dueDate: '2023-04-21',
    kvzIds: [
      '42021A568', '42021A68', '42021A12', '42021A36', '42021A536', '42021A11', '42021A37', '42021A54', '42021A53', '42021A34', '42021A52', '42021A10', '42021A57',
      '54391A7', '54391A27', '54391A3', '54391A11', '54391A12', '54391A4', '54391A604', '54391A13', '54391A5', '54391A616', '54391A24', '54391A623', '54391A22', '54391A20', '54391A620', '54391A8', '54391A606', '54391A6', '54391A2', '54391A16', '54391A14', '54391A10', '54391A29',
      '25711A57', '25711A15', '25711A72', '25711A69', '25711A27', '25711A68', '25711A83', '25711A92', '25711A13', '25711A89', '25711A74', '25711A75', '25711A26', '25711A94', '25711A76', '25711A53', '25711A33', '25711A8', '25711A84', '25711A63', '25711A10', '25711A610', '25711A9', '25711A28', '25711A101', '25711A594', '25711A78', '25711A36', '25711A95', '25711A14', '25711A1', '25711A601', '25711A32', '25711A31', '25711A17', '25711A35', '25711A77', '25711A80',
      '55312A72', '55312A67', '55312A87', '55312A51', '55312A20', '55312A54', '55312A568', '55312A68', '55312A27', '55312A88', '55312A22', '55312A58', '55312A26', '55312A48', '55312A98', '55312A74', '55312A52', '55312A59', '55312A57', '55312A86', '55312A28', '55312A30', '55312A69', '55312A56', '55312A53', '55312A55', '55312A553', '55312A566', '55312A66', '55312A70', '55312A65', '55312A71', '55312A73', '55312A37', '55312A85', '55312A49', '55312A64',
      '52612A68', '52612A73', '52612A673', '52612A60', '52612A660', '52612A6', '52612A65', '52612A665', '52612A62', '52612A66', '52612A59', '52612A54', '52612A77', '52612A61', '52612A39', '52612A58', '52612A658', '52612A606', '52612A48', '52612A46', '52612A67', '52612A47', '52612A647', '52612A63', '52612A85', '52612A30', '52612A31',
      '54057A104', '54057A1212', '54057A1313', '54057A1515', '54057A9999', '54057A4', '54057A41', '54057A641', '54057A1', '54057A601', '54057A15', '54057A39', '54057A40', '54057A37', '54057A38', '54057A43', '54057A36',
      '59211A56', '59211A59', '59211A119', '59211A26', '59211A53', '59211A66', '59211A52', '59211A396',
      '44161A53', '44161A25', '44161A55', '44161A58', '44161A23', '44161A51', '44161A52', '44161A45', '44161A15', '44161A60', '44161A9', '44161A11', '44161A44', '44161A50', '44161A47', '44161A14', '44161A614', '44161A54', '44161A13', '44161A22', '44161A48', '44161A648', '44161A12', '44161A24', '44161A35',
      '57331A629', '57331A117', '57331A14', '57331A614', '57331A6', '57331A38', '57331A51', '57331A20', '57331A16', '57331A15', '57331A13', '57331A613', '57331A3', '57331A18', '57331A618', '57331A52', '57331A40', '57331A37', '57331A26', '57331A19', '57331A147', '57331A27', '57331A17', '57331A25', '57331A345', '57331A24', '57331A10', '57331A33', '57331A11', '57331A46', '57331A53', '57331A21', '57331A621', '57331A49', '57331A5', '57331A605', '57331A50', '57331A650', '57331A28', '57331A54', '57331A58', '57331A32', '57331A609', '57331A9', '57331A631',
      '25163A12', '25163R12', '25161A21', '25161R21', '25161Ü0601', '25161Ü0602', '25161A4', '25161R4', '25161A24', '25161A624', '25161R624', '25161A22', '25161R22', '25161A42', '25161R42', '25161A14', '25161A614', '25161R614', '25161A25', '25161R25', '25161A32', '25161A26', '25161A33', '25161A633', '25161R633', '25161A632', '25161R632', '25061A1', '25061A601', '25061R601', '25161A3', '25161A1', '25161R3', '25161A51', '25161A34', '25161R34', '25161A35', '25161A36', '25161R36', '25161A48', '25161A49', '25161R48', '25161A44', '25161A644', '25161R644', '25161A46', '25161A43', '25161R43', '25161A2', '25161A6', '25161A606', '25161R606', '25161A50', '25161A650', '25161R650', '25161A601', '25161R601'
    ],
    quotas: {
      'NI:Achim': { MFG: 8, KVZ: 0 },
      'NI:Bersenbrück': { MFG: 13, KVZ: 0 },
      'NW:Greven': { MFG: 18, KVZ: 0 },
      'NI:Holzminden': { MFG: 18, KVZ: 0 },
      'NW:Lemgo': { MFG: 11, KVZ: 0 },
      'NI:Hagen am Teutoburger Wald': { MFG: 6, KVZ: 0 },
      'NI:Nordhorn': { MFG: 5, KVZ: 0 },
      'NI:Oldenburg': { MFG: 14, KVZ: 0 },
      'NW:Vlotho': { MFG: 17, KVZ: 0 },
      'NW:Münster': { MFG: 12, KVZ: 0 }
    }
  },
  {
    name: 'Abfahrtsliste_Gesamt_Kooperationen T04',
    date: '2023-04-01',
    dueDate: '2023-04-14',
    kvzIds: [
      '25133A34', '25133R34', '25123A33', '25133A45', '25123R72', '25123A65', '25123A72', '25133A62', '25133A73', '25133A31', '25133R31', '25133A30', '25133A46', '25133A646', '25133R646', '25133A29', '25133A47', '25123A32', '25123R32', '25123A64', '25123A70', '25123A74', '25123A66', '25123R66', '25133A44', '25133R44', '25133A40', '25123A50', '25123R50', '25123A71', '25123A49', '25123R49', '25123A69', '25123R69', '25123A48', '25132A15', '25132R15', '25132A16', '25132R16', '25132A533', '2514A76', '2514A74', '2514V45', '25133A10', '25133A610', '25133A55', '25133A56', '25133R56', '25133A57', '25133A27', '25133A26', '25133R26', '25133A25', '25133A72', '25133R72', '25133V31', '25133A42', '25133A21', '25123A41', '2514R76', '25133R610', '25133A52', '25133R52', '25123A60', '25133A23', '25133R23', '25133A24',
      '714181A68', '714181R68', '714181V1002', '71415A79', '71415R79', '71415A75', '71415R75', '71415A575', '71415R575', '71415A563', '71415R563', '71415A60', '71413R15', '71413A15', '71415A62', '71415A562', '71415R562', '714181A18', '71413A55', '71413A9', '71413A8', '71413R8', '71413A7', '71413A45', '71415A569', '71415R569', '71419A75', '71419R75', '71419A67', '71419R67', '714181A5', '714181R5', '714181A39', '714181R39', '71415A577', '71415A77', '71415A78', '71415R577', '71415A76', '71415A64', '71415A80', '71415A69', '71415A53', '71415R53', '71415A51', '71415V1001', '71415V1001', '71419A26', '71419R26', '71419A14', '71419R14', '71419A21', '71419R21', '71415A74', '71413A24', '71413A524', '71413R24', '71413R524', '71415A57', '71415R57', '71415A56', '71413A14', '71419A96', '71415A564', '71415R564', '71419A70', '71419R70', '71419A52', '71419R52', '71419A68', '71419R68', '71413A46', '71415A59', '71415A58', '71415R58', '71415A68', '71413A38', '71413A12', '71413R12', '71413A40', '71413A51', '71413R51', '71413A37', '71413A57', '71413R57', '714181A12', '714181A512', '714181R512', '71415A65', '71415A63', '714181A15', '714181R15', '714181A14', '714181A514', '714181R514', '714181A13', '714181A1', '714181R1', '714181A7', '71413A10', '71413R10', '71413A29', '71413A30', '71413R30', '71419A598', '71419R598', '71413A19', '71413A6', '71413R6', '71444A582', '71444R582', '71444A82', '71415A71', '71413A31', '71413A41', '71419A73', '71419R73', '71419A74', '71419R74', '71419A71', '71415A54', '71415A554', '71415R554', '71415A573', '71415A73', '71415R573',
      '71425A571', '71425A71', '71425R571', '71425V1010', '71425V1010', '71425V1020', '71425V1020', '71425A32', '71425R32', '71425A66', '71425A33', '71425A45', '71425A25', '71425A525', '71425R525', '71425A23', '71425A523', '71425R23', '71425R523', '71425A18', '71425R18', '71425A72', '71425A74', '71425A35', '71425A38', '71425V1023', '71425V1023', '71425A569', '71425A69', '71425R569', '71425A22', '71425R22', '71425A31', '71425A505', '71425R505', '71425A5', '71425A40', '71425R40', '71425A17', '71425R17', '71425A88', '71425A36', '71425R36', '71425V1009', '71425V1009', '71425V1016', '71425V1016', '71425A67', '71425A30', '71425A530', '71425R530', '71425A28', '71425A20', '71425A29', '71425A34', '71425A70', '71425R70', '71425A39',
      '82951A4', '82951A3', '82951A6', '82951A1', '82951A5', '82951A601', '82951A10',
      '52542A81', '52542R81', '52542A4', '52542A604', '52542R604', '52542A76', '52545A57', '52545A39', '52545A28', '52545A15', '52545A47', '52542A41', '52542A641', '52542A28', '52542R28', '52542A43', '52542A36', '52542A636', '52542R636', '52542A501', '52542A503', '52542A44', '52542R44', '52542A201', '52542A38', '52542A638', '52542R638', '52542A37', '52542R641', '52545A20', '52542A90', '52542A86', '52542A670', '52542A70', '52542R670', '52542A30', '52542R30', '52542A74', '52542R74', '52542A11', '52542A34', '52542A505', '52542R39', '52545A33', '52545A633', '52545R633', '52542A49', '52545A21', '52545R21', '52545A603', '52545R603', '52545A3', '52545A54', '52545A654', '52545R654', '52545A41', '52545A641', '52545R641', '52545A6', '52545A606', '52545R606', '52542A13', '52542A613', '52542A66', '52542A12', '52542A612', '52542R612', '52542V1200', '52542A35', '52542R35', '52542A9', '52542A609', '52542R609', '52542A78', '52542R78', '52542V1100', '52542R613', '52542A27', '52542R27', '52542A684', '52542A84', '52542R684', '52545A37', '52545A637', '52545R637', '52542A20', '52542R20', '52542A14', '52542A33', '52542R33', '52542A46', '52545A5', '52545A16', '52545R16', '52545A51', '52545R51', '52545A17', '52545A617', '52545R617', '52542A632', '52542R632', '52542A32', '52542A631', '52542R631', '52542A31', '52542A83', '52542A82', '52542A682', '52542R682', '52542A73', '52542R73', '52542A608', '52542A8', '52542R608', '52542A57', '52542R57', '52542A676', '52542A15', '52542A615', '52542R615', '52545A24', '52545A23', '52545R23', '52545A7', '52545R7', '52545A10', '52545A610', '52545R610', '52545V1100', '52545A31', '52545A43', '52545A643', '52545R643', '52545A11', '52545R11', '52542A95', '52542R95', '52545A32', '52545R32', '52545A13', '52545A45', '52545R45', '52545A14', '52545A614', '52545R614', '52545A1', '52545A601', '52545R601', '52545V1200', '52542A23', '52545A42', '52545R42', '52542A69', '52545A46', '52545A646', '52545R646', '52545A19', '52545R19', '52545A4', '52545R4', '52545A12', '52545A612', '52545R612', '52545A27', '52545R27', '52545A50', '52545A650', '52545R650', '52545A2', '52545A602', '52545R602', '52542A58', '52542R58', '52545A35', '52545A635', '52545A26', '52545A22', '52545R22', '52545A59', '52545R59', '52545R635', '52545A55', '52545R55', '52545A48', '52545A648', '52545R648', '52545A61', '52545R61', '52545A65', '52545R65', '52542A71', '52542R71', '52542A45', '52542R45', '52542A21', '52542A617', '52542R617', '52542A17', '52542A22', '52542A622', '52542R622', '52545A608', '52545A8', '52545R608', '52545A29', '52545A629', '52545R629'
    ],
    quotas: {
      'NW:Münster': { MFG: 16, KVZ: 0 },
      'BW:Ludwigsburg': { MFG: 28, KVZ: 0 },
      'BW:Bietigheim-Bissingen': { MFG: 10, KVZ: 4 },
      'BY:Altenmünster': { MFG: 0, KVZ: 4 },
      'NW:Paderborn': { MFG: 64, KVZ: 4 }
    }
  },
  {
    name: 'Abfahrtsliste_Gesamt_Kooperationen Tranche 02_2023',
    date: '2023-04-13',
    dueDate: '2023-04-20',
    kvzIds: [
      '52522A49', '52522A649', '5252722', '5252721', '5252720', '52522R649', '52522A616', '52522R616', '52522A54', '52522A654', '52522R654', '52522A505', '52522A45', '52522R45', '52522A29', '52522A629', '52522R629', '52522A22', '525237', '5252737', '52527637', '52522A38', '52522R38', '52522A9', '52522R9', '52522V1100', '52522A39', '52522A8', '52522R8', '52522A33', '52522A32', '52522A611', '52522R611', '52522A11', '52522A13', '52522R13', '52522A28', '52522A46', '52522R46', '52522A26', '5252719', '52522A27', '52522R27', '52522R33', '52522A19', '52522A56', '52522R56', '52522A57', '52522A18', '52522A41', '52522A69', '52522A618', '52522R69', '52522R618', '52522A52', '52522R52', '52522V1400', '52522A51', '52522A48', '52522R48', '52522A21', '52522A621', '52522R621', '52522A607', '52522A7', '52522R607', '52522A74', '52522R74', '52522A44', '52522A12', '52522A20', '52522A42', '52522R42', '52522A4', '52522A604', '52522R604', '52522A3', '52522R3', '52522A5', '52522A43', '52522A40', '52522A491',
      '44781A608', '44781A8', '44781A14', '44781A11', '44781A10', '44781A614', '44781A12', '44781A7', '44781A15', '44781A1', '44781A13', '44781R608', '44781V1001', '44781R614', '44781V1003', '44781V1003',
      '52241A6', '52241A46', '52241A646', '52241R646', '52241A9', '52241A38', '52241A616', '52241R616', '52241A16', '52241A40', '52241R40', '52241A39', '52241A3', '52241A603', '52241R603', '52241A1', '52241R1', '52241A21', '52241R21', '52241V1400', '52241V1400', '52241A2', '52241A28', '52241R28', '52241A631', '52241R631', '52241A29', '52241A629', '52241R629', '52241A37', '52241A61', '52241A7', '52241R7', '52241A45', '52241A47', '52241A647', '52241R647', '52241A11', '52241R11', '52241A22', '52241A622', '52241R622', '52241A36', '52241R36', '52241A35', '52241A31', '52231A36', '52231R36', '52241A8', '52241A34', '52241V1300', '52241V1300', '52241A641', '52241A41', '52241A401', '52241A402', '52241A403', '52241R641', '52241A32', '52241A632', '52241R632', '52241A30', '52241A60', '52241A502', '52241A5', '52241R5', '52241A4', '52241R4', '52251A38', '52251R38', '52251A8', '52251A39', '52251A608', '52251R608', '52241A20', '52241A620', '52241R620', '52241A44', '52241R44', '52241A42', '52241V1200', '52241V1200', '52241A43', '52241R43', '52241A74', '52241A59', '52241R59',
      '44612A23', '44612A38', '44612A538', '44612R38', '44612A55', '44612A32', '44612A45', '44612A545', '44612A13', '44612A507', '44612A7', '44612A14', '44612A514', '44612A46', '44612A546', '44612R546', '44612A54', '44612A554', '44612R54', '44612A17', '44612A517', '44612A33', '44612A18', '44612A518', '44612A520', '44612A11', '44612A511', '44612A52', '44612A552', '44612A26', '44612A19', '44612A519', '44612A48', '44612A24', '44612A524', '44612A29', '44612A28', '44612A528', '44612A44', '44612A15', '44612A515', '44612A50', '44612A12', '44612A47', '44612V1007', '44612V1007', '44612R47', '44612A49', '44612R49', '44612A10', '44612A556', '44612A56', '44612A22', '44612A553', '44612A53', '44612A39', '44612A42', '44612A27', '44612A527', '44612A61', '44612A743', '44612A4', '44612A504', '44612A16', '44612A75', '44612A43', '44612A543', '44612A2', '44612A508', '44612A8', '44612A1', '44612A5', '44612A20',
      '5714A3', '5714R3', '5714A65', '5714R65', '5714A355', '5712A64', '5712A63', '5712A62', '5712A61', '5712R61', '5712A82', '5712A59', '5712A56', '5712R56', '5712A281', '5712A55', '5712R55', '5712A81', '5712R81', '5714R45', '5714R56', '5712A89', '5712A48', '5712A41', '5712R41', '5712A20', '5712A84', '5712A39', '5712R39', '5715A65', '5715R65', '5715A3', '5715R3', '5715A59', '5715R59', '5714R24', '5714R554', '5714R23', '5714A657', '5714R657', '5714A255', '5714A57', '5714R55',
      '51921A42', '51921A41', '51921A59', '51921A38', '51921A36', '51921A9', '51921A5', '51921A24', '51921A23', '51921A28', '51921A15', '51921A22', '51921A26', '51921A30', '51921A27', '51921A29', '51921A25', '51921A1', '51921A63', '51921A43', '51921A14', '51921A39', '51921A40',
      '25172A116', '25172R116', '25172A122', '25172R122', '25172A36', '25172R36', '25172A37', '25172A118', '25172A34', '25172A634', '25172R634', '25172A48', '25172V1200', '25152A18', '25152A19', '25152R19', '25152A16', '25152A17', '25152R16', '25152V66', '25172A681', '25172R681', '25172A83', '25172R83', '25172A82', '25172A52', '25172A53', '25172V79', '25172A117', '25172A45', '25172A114', '25172R713', '25172A113', '25172A713', '25178A18', '25178R18', '25178A19', '25178R19', '25178A10', '25178R10', '25178A5', '25178A7', '25178R7', '25178A6', '25172A35', '25172R35', '25172A119', '25172A115', '25172V1300', '25172A51', '25172A46', '25172R46', '25172A133', '25172R133', '25172A87', '25172A86', '25172V1400', '25172A39', '25172A38', '25172A120', '25172R120', '25152A15', '25152A14', '25152R14', '25152A5', '25152A6', '25152R26', '25152A26', '25152A23', '25152A21', '25152A621', '25152R621', '25152A20', '25172A74', '25172A54', '25172R54', '25172A50', '25172A49', '25172A649', '25172R649', '25172A70', '25172V77', '25172A123', '25172A723', '25172R723', '25172A58', '25172R58', '25171A12', '25171R12', '25171A22', '25172A24', '25172R24', '25152A105', '25152R105', '25152A31', '25152A50', '25152A111', '25172A91', '25172A126', '25172A685', '25172A85', '25172R685', '25172R85', '25172A23', '25172A106', '25172A706', '25172R706', '25172V1600', '25172V1600', '25172A22', '25172A21', '25172R21', '25172A131', '25178A43', '25178A44', '25178A16', '25178A15', '25178A34', '25178A41', '25178R41', '25178R44', '25178A4', '25178A604', '25178R604', '25171A501', '25171A502',
      '715165A85', '715165A96', '715165R85', '715165B18', '715165A87', '715165B13', '715165B14', '715165A95', '715165A83', '715165A583', '715165R583', '715165A86', '715165B10', '715165B8', '715165R210', '715165B9', '715165A84', '715165A500', '715165B', '715165B12', '715165B11', '715165A599', '715165R500', '715165R599'
    ],
    quotas: {
      'NW:Münster': { MFG: 21, KVZ: 0 },
      'NI:Munster': { MFG: 0, KVZ: 14 }
    }
  },
  {
    name: '230222 Beklebung Liste 128',
    date: '2023-04-03',
    dueDate: '2023-04-10',
    kvzIds: ['23721A107', '23721A116', '23721A125', '23721A134', '23721A148', '23721A15', '23721A16', '23721A2', '23721A27', '23721A28', '23721A41', '23721A42', '23721A43', '23721A48', '23721A53', '23721A58', '23721A6', '23721A7', '23721A72', '23721A81', '23721A85', '23721A99', '23726A10', '23726A26', '23728A6', '362012A12', '362012A14', '362012A15', '362012A17', '362017A18', '366922A8', '43211A13', '43211A3', '43211A6', '43212A17', '43212A26', '43212A30', '43214A127', '43214A131', '43214A20', '43214A6', '43214A81', '43216A16', '43216A20', '43216A21', '43216A22', '48612A19', '62821A1', '62821A13', '62821A17', '62821A23', '62821A25', '62821A26', '62821A28', '62821A3', '62821A37', '62821A38', '62851A5', '62861A3', '62861A7', '62861A9', '6712A35', '6712A62', '68181A4', '68181A49', '68181A53', '68189A22', '68189A3', '74411A1', '74411A10', '74411A16', '74411A27', '74411A32', '74411A37', '74411A41', '74411A59', '74411A64', '74411A73', '74411A84', '74431A0', '83342A1', '83342A12', '83342A16', '83342A18', '83342A25', '83342A45', '83342A8', '66211A71', '66211A70', '66211A679', '66211A76', '66211A573', '55431A1', '55431A2', '55431A7', '55431A27', '55431A33', '55431A516', '55431A503', '55431A512', '62413A16', '62413A17', '62413A20', '62413A25', '62413A27', '62413A28', '62413A32', '62413A34', '62413A35', '62413A37', '62413A8', '62414A41', '62415A103', '62415A104', '62415A107', '62415A118', '62415A120', '62415A122', '62415A126', '62415A129', '62415A40', '62415A42', '62415A45', '62415A47', '62415A50', '62415A55', '62415A56', '62415A57', '62415A59', '62415A63', '62415A64', '62415A65', '62415A66', '62415A67', '62415A68', '62415A71', '62415A80', '62415A87', '62415A9', '62415A90', '62471A11', '62471A12', '62471A17', '62471A19', '62471A21', '62471A23', '62471A26', '62471A28', '62471A30', '62471A31', '62471A32', '62471A7', '83312A121', '83312A43', '83312A80', '87411A24', '87411A25', '87411A3', '87411A33', '87411A49', '87411A509', '87411A6', '87411A66', '23721A105', '23721A146', '23721A24', '23721A63', '23721A74', '23721A89', '23721A90', '23721A91', '23721A94', '23726A11', '23726A12', '23726A14', '23726A15', '23726A17', '23726A18', '23726A21', '23726A27', '23726A29', '23726A301', '23726A9', '62821A14', '62821A2', '62821A36', '62821A4', '62821A40', '62821A41', '62821A6', '62821A7', '62851A2', '62851A3', '62851A4', '62851A6', '62851A7', '62861A1', '62861A10', '62861A2', '62861A5', '62861A6', '74411A79', '74411A80', '66211A109', '66211A2', '66211A610', '66211A110', '66211A154', '66211A72', '55431A8', '55431A23', '55431A28', '55431A4', '55431A24', '55431A18', '55431A32', '55431A22', '55431A17', '55431A30', '55431A524', '62413A36', '62415A79', '87411A36', '87411A76']
  },
  {
    name: '230301 Beklebung Liste 129',
    date: '2023-05-01',
    dueDate: '2023-05-20',
    kvzIds: ['53222A10', '53222A32', '53222A533', '53228A26', '53228A33', '53228A519', '53228A520', '53228A524', '53222A14', '53222A39', '53228A101', '53222A17', '53222A47', '53222A49', '53222A502', '53222A529', '53222A546', '53222A554', '53228A27', '53228A30', '53222A53', '53228A18', '53228A37', '53228A512', '53228A7', '53222A11', '53222A18', '53222A503', '53222A51', '53228A10', '53228A22', '53228A4', '53228A513', '53228A525', '53228A6', '53228A8', '53228A9', '53222A12', '53222A5', '53222A508', '53222A525', '53222A9', '53228A11', '53228A17', '53222A15', '53222A38', '53222A40', '53222A522', '53222A55', '53228A31', '53228A5', '53222A42', '53222A535', '53228A32', '34932A24', '34932A25', '34932A26', '34932A63', '349421A103', '349421A104', '349421A108', '349421A109', '349421A111', '349421A113', '349421A117', '349421A119', '349421A120', '349421A121', '349421A125', '349421A127', '349421A128', '349421A129', '349421A135', '349421A147', '349421A148', '349421A150', '349421A152', '349421A153', '349421A155', '349421A156', '349421A157', '349421A158', '349421A159', '349421A160', '349421A161', '349421A162', '349421A163', '349423A103', '349423A105', '349423A107', '349423A108', '349423A111', '349423A114', '349423A115', '349423A120', '34932A54', '34932A60', '349421A122', '349421A134', '349423A109', '349423A124', '55201A10', '55201A9', '55201A8', '55201A20', '55201A11', '55201A12', '55201A518', '55201A13', '55201A28', '55201A514', '55201A19', '55201A15', '55201A7', '55201A515', '29611A11', '29611A15', '29611A17', '29611A18', '29611A2', '29611A21', '29611A23', '29611A27', '29611A33', '29611A34', '29611A35', '29611A36', '29611A38', '29611A39', '29611A4', '29611A44', '29611A50', '29611A54', '29611A59', '29611A71', '29611A9', '29631A10', '29641A3', '29641A9', '29641A4', '29641A5', '53232A4', '53238A18', '53238A516', '53238A3', '53238A510', '53238A1', '53238A14', '53238A13', '53238A511', '53238A502', '53238A2', '53238A504', '53238A4', '9912A20', '9912A21', '9912A24', '9912A25', '9912A29', '9912A3', '9912A36', '9912A4', '9912A43', '9912A68', '9912A7', '9912A71', '9912A73', '9912A74', '9912A75', '9912A8', '9912A81', '9912A84', '9912A85', '9913A1', '9913A100', '9913A107', '9913A114', '9913A12', '9913A16', '9913A25', '9913A34', '9913A36', '9913A38', '9913A41', '9913A43', '9913A7', '9913A77', '9913A89', '9913A9', '9913A94', '9913A98', '9912A11', '9912A116', '9912A23', '9912A58', '9912A6', '9912A66', '9912A69', '9912A80', '9912A92', '56941A3', '56941A6', '56941A8', '55612A1', '55612A53', '55621A7', '36218A76', '87411A13', '53212A76', '53212A1', '53212A17', '53212A6', '53212A26', '53212A546', '53212A70', '53212A29', '53212A32', '53212A37', '53212A31', '53212A590', '53212A83', '53218A26', '53218A504', '53212A549', '53212A580', '53212A93', '53218A5', '53218A510', '53218A520', '53212A550', '53218A6', '53212A547', '53212A77', '53218A31', '53218A516', '53218A24', '53218A528', '53212A562', '53212A74', '53212A91', '53218A35', '53218A9', '53212A94', '53218A34', '53218A22', '53218A43', '60781A49', '62335A14', '62335A3', '62335A33', '62335A4', '62335A5', '62335A6', '62335A7', '53262A18', '53262A10', '53262A4', '53262A24', '53262A30', '53262A511', '53262A5', '53262A515', '53262A513', '53262A501', '53262A502', '53262A517', '29911A0', '29911A10', '29911A6', '65251A52', '62231A1', '62231A18', '62231A19', '62231A30', '62231A44', '62231A46', '62231A53', '62231A8', '62231A12', '62231A13', '62231A16', '62231A36', '62231A41', '62231A502', '61627A12', '61627A14', '61627A16', '61627A2', '61627A20', '61627A3', '61631A107', '61627A23', '61627A9', '56911A533', '56931A10', '56931A14', '56931A15', '56931A16', '56931A3', '56931A6', '56931A8', '56931A23']
  },
  {
    name: '230301 Beklebung Liste 129',
    date: '2023-04-03',
    dueDate: '2023-04-10',
    kvzIds: ['53222A10', '53222A32', '53222A533', '53228A26', '53228A33', '53228A519', '53228A520', '53228A524', '53222A14', '53222A39', '53228A101', '53222A17', '53222A47', '53222A49', '53222A502', '53222A529', '53222A546', '53222A554', '53228A27', '53228A30', '53222A53', '53228A18', '53228A37', '53228A512', '53228A7', '53222A11', '53222A18', '53222A503', '53222A51', '53228A10', '53228A22', '53228A4', '53228A513', '53228A525', '53228A6', '53228A8', '53228A9', '53222A12', '53222A5', '53222A508', '53222A525', '53222A9', '53228A11', '53228A17', '53222A15', '53222A38', '53222A40', '53222A522', '53222A55', '53228A31', '53228A5', '53222A42', '53222A535', '53228A32', '34932A24', '34932A25', '34932A26', '34932A63', '349421A103', '349421A104', '349421A108', '349421A109', '349421A111', '349421A113', '349421A117', '349421A119', '349421A120', '349421A121', '349421A125', '349421A127', '349421A128', '349421A129', '349421A135', '349421A147', '349421A148', '349421A150', '349421A152', '349421A153', '349421A155', '349421A156', '349421A157', '349421A158', '349421A159', '349421A160', '349421A161', '349421A162', '349421A163', '349423A103', '349423A105', '349423A107', '349423A108', '349423A111', '349423A114', '349423A115', '349423A120', '34932A54', '34932A60', '349421A122', '349421A134', '349423A109', '349423A124', '55201A10', '55201A9', '55201A8', '55201A20', '55201A11', '55201A12', '55201A518', '55201A13', '55201A28', '55201A514', '55201A19', '55201A15', '55201A7', '55201A515', '29611A11', '29611A15', '29611A17', '29611A18', '29611A2', '29611A21', '29611A23', '29611A27', '29611A33', '29611A34', '29611A35', '29611A36', '29611A38', '29611A39', '29611A4', '29611A44', '29611A50', '29611A54', '29611A59', '29611A71', '29611A9', '29631A10', '29641A3', '29641A9', '29641A4', '29641A5', '53232A4', '53238A18', '53238A516', '53238A3', '53238A510', '53238A1', '53238A14', '53238A13', '53238A511', '53238A502', '53238A2', '53238A504', '53238A4', '9912A20', '9912A21', '9912A24', '9912A25', '9912A29', '9912A3', '9912A36', '9912A4', '9912A43', '9912A68', '9912A7', '9912A71', '9912A73', '9912A74', '9912A75', '9912A8', '9912A81', '9912A84', '9912A85', '9913A1', '9913A100', '9913A107', '9913A114', '9913A12', '9913A16', '9913A25', '9913A34', '9913A36', '9913A38', '9913A41', '9913A43', '9913A7', '9913A77', '9913A89', '9913A9', '9913A94', '9913A98', '9912A11', '9912A116', '9912A23', '9912A58', '9912A6', '9912A66', '9912A69', '9912A80', '9912A92', '56941A3', '56941A6', '56941A8', '55612A1', '55612A53', '55621A7', '36218A76', '87411A13', '53212A76', '53212A1', '53212A17', '53212A6', '53212A26', '53212A546', '53212A70', '53212A29', '53212A32', '53212A37', '53212A31', '53212A590', '53212A83', '53218A26', '53218A504', '53212A549', '53212A580', '53212A93', '53218A5', '53218A510', '53218A520', '53212A550', '53218A6', '53212A547', '53212A77', '53218A31', '53218A516', '53218A24', '53218A528', '53212A562', '53212A74', '53212A91', '53218A35', '53218A9', '53212A94', '53218A34', '53218A22', '53218A43', '60781A49', '62335A14', '62335A3', '62335A33', '62335A4', '62335A5', '62335A6', '62335A7', '53262A18', '53262A10', '53262A4', '53262A24', '53262A30', '53262A511', '53262A5', '53262A515', '53262A513', '53262A501', '53262A502', '53262A517', '29911A0', '29911A10', '29911A6', '65251A52', '62231A1', '62231A18', '62231A19', '62231A30', '62231A44', '62231A46', '62231A53', '62231A8', '62231A12', '62231A13', '62231A16', '62231A36', '62231A41', '62231A502', '61627A12', '61627A14', '61627A16', '61627A2', '61627A20', '61627A3', '61631A107', '61627A23', '61627A9', '56911A533', '56931A10', '56931A14', '56931A15', '56931A16', '56931A3', '56931A6', '56931A8', '56931A23']
  }
]

async function seedBriefings () {
  const companyId = await $query('Company').equalTo('name', 'Kinetic Germany GmbH').first({ useMasterKey: true }).then(c => c.id)
  for (const item of TEST_BRIEFINGS) {
    const { name, date, dueDate, kvzIds, quotas } = item
    consola.warn('TODO: quotas', quotas)
    if (await $query('Briefing').equalTo('name', name).count({ useMasterKey: true })) {
      continue
    }
    const briefing = await Parse.Cloud.run('briefing-create', { name, companyId, date, dueDate }, { useMasterKey: true })
    if (!kvzIds) {
      continue
    }
    const lists = {}
    const cubes = await $query('Cube')
      .containedIn('importData.kvzId', kvzIds)
      .notEqualTo('MBfD', true)
      .select(['state', 'ort'])
      .limit(kvzIds.length)
      .find({ useMasterKey: true })
    for (const cube of cubes) {
      const placeKey = cube.get('state').id + ':' + cube.get('ort')
      if (!(placeKey in lists)) {
        lists[placeKey] = []
      }
      lists[placeKey].push(cube.id)
    }
    await Parse.Cloud.run('briefing-add-lists', { id: briefing.id, lists }, { useMasterKey: true })
  }
  consola.success('done seeding breifings')
}

purgeFieldwork().then(seedBriefings).then(consola.success)

const fakeScout = async function ({ company }) {
  const email = faker.internet.email()
  return {
    username: email,
    email,
    password: '123456',
    firstName: faker.name.firstName(),
    lastName: faker.name.lastName(),
    accType: 'scout',
    mobile: faker.phone.number(),
    company
  }
}

async function seedScouts () {
  await createFakeObj(Parse.User, 10, fakeScout)
  await createFakeObj(Parse.User, 10, fakeScout, { company: await $getOrFail('Company', '4EBkZmBra0') })
}

Parse.Cloud.define('purge-fieldwork', purgeFieldwork, { requireMaster: true })
Parse.Cloud.define('seed-briefings', seedBriefings, { requireMaster: true })
Parse.Cloud.define('seed-scouts', seedScouts, { requireMaster: true })
